<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 
      - primary meta tag
    -->
  <title>Propath Academy</title>
  <meta name="title" content="">
  <meta name="description" content="">

  <!-- 
      - favicon
    -->
  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

  <!-- 
      - custom css link
    -->
  {% load static %}
  <link rel="stylesheet" href="{% static 'academy/teachers.css' %}">

  <!-- 
      - google font link
    -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;600;700;800&family=Poppins:wght@400;500&display=swap"
    rel="stylesheet">

  <!-- 
      - preload images
    -->
  <link rel="preload" as="image" href="./assets/images/hero-bg.svg">
  <link rel="preload" as="image" href="./assets/images/hero-banner-1.jpg">
  <link rel="preload" as="image" href="./assets/images/hero-banner-2.jpg">
  <link rel="preload" as="image" href="./assets/images/hero-shape-1.svg">
  <link rel="preload" as="image" href="./assets/images/hero-shape-2.png">
</head>

<body>
  <header class="header" data-header>
    <div class="container">

      <a href="#" class="logo">
        <img src="{% static 'images/Propath1.svg' %}" width="162" height="50" alt="EduWeb logo">
      </a>

      <nav class="navbar" data-navbar>

        <div class="wrapper">
          <a href="#" class="logo">
            <img src="{% static 'images/logo.svg' %}" width="162" height="50" alt="EduWeb logo">
          </a>

          <button class="nav-close-btn" aria-label="close menu" data-nav-toggler>
            <ion-icon name="close-outline" aria-hidden="true"></ion-icon>
          </button>
        </div>

        <ul class="navbar-list">

          <li class="navbar-item">
            <a href="{% url 'academy_base' %}" class="navbar-link" data-nav-link>Home</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'students_page' %}" class="navbar-link" data-nav-link>Students</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'franchise_page' %}" class="navbar-link" data-nav-link>Franchises</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'students_page' %}" class="navbar-link" data-nav-link>Schools</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'competitions_page' %}" class="navbar-link" data-nav-link>Competitions</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'teachers_page' %}" class="navbar-link" data-nav-link>Teachers</a>
          </li>

          <li class="navbar-item">
            <a href="/inventory/" class="navbar-link" data-nav-link>Stores</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'orders_page' %}" class="navbar-link" data-nav-link>Orders</a>
          </li>

          <li class="navbar-item">
            <a href="{% url 'register_user' %}" class="navbar-link" data-nav-link>Register user</a>
          </li>

        </ul>

      </nav>

      <div class="header-actions">

        <a href="{% url 'logout_user' %}" class="btn has-before">
          <span class="span">Logout</span>

          <!-- <ion-icon name="arrow-forward-outline" aria-hidden="true"></ion-icon> -->
        </a>

        <button class="header-action-btn" aria-label="open menu" data-nav-toggler>
          <ion-icon name="menu-outline" aria-hidden="true"></ion-icon>
        </button>

      </div>

      <div class="overlay" data-nav-toggler data-overlay></div>

    </div>
  </header>

  <div class="container">
    <div class="row">
      <div class="col-md-6"> <!-- Adjust the column width as needed -->
        <a href="{% url 'register_user' %}" class="btn tbtn">Register Teacher</a>
        <a href="{% url 'teacher_feedbacks' %}" class="btn tbtn ">Teacher Feedbacks</a>
      </div>
      <div class="col-md-1">
        <input type="text" id="searchInput" class="form-control" placeholder="Search">
      </div>
    </div>


    <div class="container">

      <div class="tablecontainer">
        <table id="teachersTable" class="content-table mx-auto">
          <thead class="bg-light">
            <tr>
              <th>Name</th>
              <th>Contact</th>
              <th>Mail</th>
              <th>Center</th>
              <th>Previous Level Trained</th>
              <th>Trained Date</th>
              <th>Due date</th>
              <th>Edit</th>
              <th>Change Login</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            {% for data in teacher_data %}
            <tr>
              <td class="fw-normal mb-1">{{ data.teacher.name }}</td>
              <td class="fw-normal mb-1">{{ data.teacher.contact_no }}</td>
              <td class="fw-normal mb-1">{{ data.teacher.email }}</td>
              <td class="fw-normal mb-1">{{ data.teacher.centre_name }}</td>
              <td class="fw-normal mb-1">
                <a href="{% url 'teacher_level_form' data.teacher.user.id %}">
                  {{ data.previous_level_trained|safe }}
                </a>
              </td>

              <td class="fw-normal mb-1">{{ data.training_date }}</td>
              <td class="fw-normal mb-1">{{ data.training_due_date }}</td>
              <td class="button-column">
                <a class="btn btn-link btn-rounded btn-sm fw-bold" data-mdb-ripple-color="dark"
                  href="{% url 'teacher_details' data.teacher.user.id %}">Edit</a>
              </td>
              <td class="button-column fw-normal mb-1">
                <a class="btn btn-link btn-rounded btn-sm fw-bold" data-mdb-ripple-color="dark"
                  href="{% url 'edit_login' data.teacher.user.id %}">Change Login</a>
              </td>
              <td class="button-column fw-normal mb-1">
                <a class="btn btn-link btn-rounded btn-sm fw-bold" data-mdb-ripple-color="dark"
                  href="{% url 'delete_teacher' data.teacher.user.id %}">Delete</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

  <!-- Your existing JavaScript code -->
  <script>
    // Function to filter the table rows based on user input for name, contact, or center name
    function filterTable() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("searchInput");
      filter = input.value.toUpperCase();
      table = document.getElementById("teachersTable");
      tr = table.getElementsByTagName("tr");

      for (i = 0; i < tr.length; i++) {
        var found = false;
        td = tr[i].getElementsByTagName("td");

        for (var j = 0; j < td.length; j++) {
          var cell = td[j];
          if (cell) {
            txtValue = cell.textContent || cell.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              found = true;
              break;
            }
          }
        }

        if (found) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }

    // Attach the filterTable function to the input field
    $(document).ready(function () {
      $("#searchInput").on("keyup", function () {
        filterTable();
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
</body>

</html>