<!DOCTYPE html>
<html lang="en">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teachers</title>
    <style>
      /* table {
        border-collapse: collapse;
        width: 100%;
      }

      th,
      td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      th {
        background-color: #f2f2f2;
      } */

      .txt_color {
        color: #7b7979; /* Light black color */
        font-family: "Times New Roman", Times, serif;
      }
      .current_text {
        font-family: "Your Desired Font", sans-serif; /* Use the desired font */
        font-weight: 600; /* Adjust the font weight */
        font-size: 14px; /* Modify the font size */
        text-transform: uppercase;
      }
      a.btn {
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a
              class="current_text nav-link active text-dark"
              aria-current="page"
              href="{% url 'academy_base' %}"
              >Home</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'students_page' %}"
              >Students</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'franchise_page' %}"
            >
              Franchises</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'students_page' %}"
              >Schools</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'teachers_page' %}"
              >Teachers</a
            >
            <a class="current_text nav-link text-dark" href="/inventory/"
              >Stores</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'orders_page' %}"
              >Orders</a
            >
            <a
              class="current_text nav-link text-dark"
              href="{% url 'register_user' %}"
              >Register user</a
            >
          </div>
          <div class="logout ms-auto">
            <a
              class="current_text nav-link text-dark"
              href="{% url 'logout_user' %}"
              >Logout</a
            >
          </div>
        </div>
      </div>
    </nav>

    <div class="container text-center pt-3">
      <h1 class="txt_color border-bottom pb-2 mb-0">Registered Teachers</h1>
    </div>

    <div class="container">
      <!-- Registe button and Search -->

      <div class="container my-4">
        <div class="row mt-3">
          <div class="col-auto">
            <a href="{% url 'register_user' %}" class="btn btn-dark"
              >Register Teacher</a
            >
          </div>
          <div class="col">
            <div class="input-group justify-content-end">
              <div class="form-outline">
                <input type="text" id="searchInput" placeholder="Search" />
              </div>
              <button type="button" class="btn btn-dark" data-mdb-ripple-init>
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- teachers table -->
      <table id="teachersTable" class="table table-striped my-3">
        <thead class="bg-light">
          <tr>
            <th>Name</th>
            <th>Contact</th>
            <th>Mail</th>
            <th>Center</th>
            <th>Previous Level Trained</th>
            <th>Trained Date</th>
            <th>Due date</th>
            <th>Edit</th>
            <th>Change Login</th>
            <th>Delete</th> 
          </tr>
        </thead>
        <tbody>
          {% for data in teacher_data %}
          <tr>
            <td class="fw-normal mb-1">{{ data.teacher.name }}</td>
            <td class="fw-normal mb-1">{{ data.teacher.contact_no }}</td>
            <td class="fw-normal mb-1">{{ data.teacher.email }}</td>
            <td class="fw-normal mb-1">{{ data.teacher.centre_name }}</td>
            <td class="fw-normal mb-1">
              <a href="{% url 'teacher_level_form' data.teacher.user.id %}">
                {{ data.previous_level_trained|safe }}
              </a>
            </td>

            <td class="fw-normal mb-1">{{ data.training_date }}</td>
            <td class="fw-normal mb-1">{{ data.training_due_date }}</td>
            <td class="button-column">
              <a class="btn btn-link btn-rounded btn-sm fw-bold"
              data-mdb-ripple-color="dark" href="{% url 'teacher_details' data.teacher.user.id %}"
                >Edit</a
              >
            </td>
            <td class="button-column fw-normal mb-1">
              <a class="btn btn-link btn-rounded btn-sm fw-bold"
              data-mdb-ripple-color="dark" href="{% url 'edit_login' data.teacher.user.id %}"
                >Change Login</a
              >
            </td>
            <td class="button-column fw-normal mb-1">
              <a class="btn btn-link btn-rounded btn-sm fw-bold"
              data-mdb-ripple-color="dark" href="{% url 'delete_teacher' data.teacher.user.id %}"
                >Delete</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- Your existing JavaScript code -->
    <script>
      // Function to filter the table rows based on user input
      function filterTable() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("teachersTable");
        tr = table.getElementsByTagName("tr");

        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0]; // Adjust index based on your column
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }

      // Attach the filterTable function to the input field
      $(document).ready(function () {
        $("#searchInput").on("keyup", function () {
          filterTable();
        });
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
